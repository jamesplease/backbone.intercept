// Backbone.Intercept v0.1.1

!function(a,b){if("function"==typeof define&&define.amd)define(["backbone","underscore"],function(a,c){return b(a,c)});else if("undefined"!=typeof exports){var c=require("backbone"),d=require("underscore");module.exports=b(c,d)}else b(a.Backbone,a._)}(this,function(a,b){"use strict";return a.Intercept={VERSION:"0.1.1",trigger:!0,navigateWith:a.history,start:function(c){c=c||{},c=b.defaults(c,this._defaults),c.links&&a.Intercept._getBody().on("click","a",a.Intercept._interceptLinks),c.forms&&a.Intercept._getBody().on("submit",a.Intercept._interceptForms)},stop:function(){a.Intercept._getBody().off("click","a",a.Intercept._interceptLinks),a.Intercept._getBody().off("submit",a.Intercept._interceptForms)},_defaults:{links:!0,forms:!0},_getBody:function(){return this._body?this._body:(this._body=$("body"),this._body)},_interceptForms:function(a){a.target&&a.target.action||a.preventDefault()},_interceptLinks:function(b){if(1===b.which){var c=$(b.currentTarget),d=c.attr("href");if(d){var e,f=c.attr("bypass"),g=c.attr("data-bypass");if(void 0!==f?e=f:void 0!==g&&(e=g),void 0===e||"false"===e){var h,i={trigger:a.Intercept.trigger},j=c.attr("trigger"),k=c.attr("data-trigger");void 0!==j?h=j:void 0!==k&&(h=k),void 0!==h&&"false"===h?i.trigger=!1:void 0!==h&&"true"===h&&(i.trigger=!0),/^#|javascript:|mailto:|(?:\w+:)?\/\//.test(d)||(b.preventDefault(),a.Intercept.navigate&&a.Intercept.navigate(d,i))}}}},navigate:function(b,c){a.history.navigate(b,c)}},a.Intercept});
//# sourceMappingURL=backbone.intercept.min.js.map